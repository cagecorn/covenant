<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12vs12 ë°°í‹€ ê·¸ë¦¬ë“œ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        
        .team-info {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .current-turn {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .battle-grid {
            display: grid;
            grid-template-columns: repeat(15, 50px);
            grid-template-rows: repeat(10, 50px);
            gap: 2px;
            justify-content: center;
            margin: 20px auto;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            border: 3px solid #3498db;
        }
        
        .grid-cell {
            width: 50px;
            height: 50px;
            border: 1px solid #34495e;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            background: #2c3e50;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .grid-cell:hover {
            background: #3498db;
            transform: scale(1.1);
        }
        
        .blue-team {
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: 2px solid #2980b9;
        }
        
        .red-team {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: 2px solid #c0392b;
        }
        
        .selected {
            box-shadow: 0 0 20px #f1c40f;
            border: 3px solid #f1c40f;
        }
        
        .possible-move {
            background: rgba(46, 204, 113, 0.7) !important;
            border: 2px solid #27ae60;
        }
        
        .possible-attack {
            background: rgba(231, 76, 60, 0.7) !important;
            border: 2px solid #c0392b;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .end-turn {
            background: #27ae60;
            color: white;
        }
        
        .end-turn:hover {
            background: #2ecc71;
            transform: translateY(-2px);
        }
        
        .reset {
            background: #e67e22;
            color: white;
        }
        
        .reset:hover {
            background: #f39c12;
            transform: translateY(-2px);
        }
        
        .unit-info {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            min-height: 60px;
        }
        
        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            padding: 30px;
            border-radius: 15px;
            border: 3px solid #f1c40f;
            z-index: 1000;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .battle-grid {
                grid-template-columns: repeat(15, 35px);
                grid-template-rows: repeat(10, 35px);
                gap: 1px;
            }
            
            .grid-cell {
                width: 35px;
                height: 35px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>âš”ï¸ 12vs12 ì „ëµ ë°°í‹€ âš”ï¸</h1>
        
        <div class="game-info">
            <div class="team-info">
                <div style="color: #3498db;">ğŸ›¡ï¸ íŒŒë€íŒ€: <span id="blueCount">12</span>ëª…</div>
            </div>
            <div class="current-turn" id="currentTurn">ğŸ”µ íŒŒë€íŒ€ í„´</div>
            <div class="team-info">
                <div style="color: #e74c3c;">âš”ï¸ ë¹¨ê°„íŒ€: <span id="redCount">12</span>ëª…</div>
            </div>
        </div>
        
        <div class="battle-grid" id="battleGrid"></div>
        
        <div class="controls">
            <button class="end-turn" onclick="endTurn()">í„´ ì¢…ë£Œ</button>
            <button class="reset" onclick="resetGame()">ê²Œì„ ë¦¬ì…‹</button>
        </div>
        
        <div class="unit-info" id="unitInfo">
            ğŸ’¡ ìœ ë‹›ì„ í´ë¦­í•´ì„œ ì„ íƒí•˜ê³ , ì´ˆë¡ìƒ‰ ì˜ì—­ìœ¼ë¡œ ì´ë™í•˜ê±°ë‚˜ ë¹¨ê°„ìƒ‰ ì˜ì—­ì˜ ì ì„ ê³µê²©í•˜ì„¸ìš”!
        </div>
    </div>

    <script>
        // ê²Œì„ ìƒíƒœ ë³€ìˆ˜ë“¤
        let currentTeam = 'blue'; // í˜„ì¬ í„´ì¸ íŒ€
        let selectedUnit = null; // ì„ íƒëœ ìœ ë‹›
        let gameBoard = []; // ê²Œì„ ë³´ë“œ ìƒíƒœ
        let unitsData = {}; // ê° ìœ ë‹›ì˜ ìƒì„¸ ì •ë³´
        
        // íŒ€ë³„ ìœ ë‹› ì´ëª¨ì§€ (ë‹¤ì–‘í•œ ì¢…ë¥˜)
        const blueUnits = ['ğŸ›¡ï¸', 'âš”ï¸', 'ğŸ¹', 'ğŸ”®', 'ğŸ', 'ğŸ¦…', 'ğŸ»', 'ğŸ¦', 'ğŸº', 'ğŸ¦‰', 'ğŸ²', 'âš¡'];
        const redUnits = ['ğŸ’€', 'ğŸ‘¹', 'ğŸ”¥', 'âš¡', 'ğŸ¦‡', 'ğŸ•·ï¸', 'ğŸ', 'ğŸ¦‚', 'ğŸ‘¾', 'ğŸ‘º', 'ğŸ”´', 'ğŸ’¥'];
        
        // ê²Œì„ ì´ˆê¸°í™”
        function initGame() {
            const grid = document.getElementById('battleGrid');
            grid.innerHTML = '';
            gameBoard = [];
            unitsData = {};
            
            // 15x10 ê·¸ë¦¬ë“œ ìƒì„±
            for (let row = 0; row < 10; row++) {
                gameBoard[row] = [];
                for (let col = 0; col < 15; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    cell.onclick = () => handleCellClick(row, col);
                    
                    gameBoard[row][col] = null;
                    
                    // íŒŒë€íŒ€ ë°°ì¹˜ (ì™¼ìª½ 2ì—´)
                    if (col < 2) {
                        const unitIndex = row * 2 + col;
                        if (unitIndex < 12) {
                            const unitEmoji = blueUnits[unitIndex];
                            cell.textContent = unitEmoji;
                            cell.classList.add('blue-team');
                            gameBoard[row][col] = { team: 'blue', emoji: unitEmoji, hp: 100, moved: false };
                            unitsData[`${row}-${col}`] = {
                                name: getUnitName(unitEmoji, 'blue'),
                                hp: 100,
                                attack: 20,
                                defense: 15
                            };
                        }
                    }
                    
                    // ë¹¨ê°„íŒ€ ë°°ì¹˜ (ì˜¤ë¥¸ìª½ 2ì—´)
                    if (col >= 13) {
                        const unitIndex = row * 2 + (col - 13);
                        if (unitIndex < 12) {
                            const unitEmoji = redUnits[unitIndex];
                            cell.textContent = unitEmoji;
                            cell.classList.add('red-team');
                            gameBoard[row][col] = { team: 'red', emoji: unitEmoji, hp: 100, moved: false };
                            unitsData[`${row}-${col}`] = {
                                name: getUnitName(unitEmoji, 'red'),
                                hp: 100,
                                attack: 20,
                                defense: 15
                            };
                        }
                    }
                    
                    grid.appendChild(cell);
                }
            }
            
            currentTeam = 'blue';
            selectedUnit = null;
            updateDisplay();
        }
        
        // ìœ ë‹› ì´ë¦„ ìƒì„±
        function getUnitName(emoji, team) {
            const names = {
                'ğŸ›¡ï¸': 'ë°©íŒ¨ë³‘', 'âš”ï¸': 'ê²€ì‚¬', 'ğŸ¹': 'ê¶ìˆ˜', 'ğŸ”®': 'ë§ˆë²•ì‚¬',
                'ğŸ': 'ê¸°ì‚¬', 'ğŸ¦…': 'ë…ìˆ˜ë¦¬', 'ğŸ»': 'ê³°ì „ì‚¬', 'ğŸ¦': 'ì‚¬ìì™•',
                'ğŸº': 'ëŠ‘ëŒ€', 'ğŸ¦‰': 'ì˜¬ë¹¼ë¯¸', 'ğŸ²': 'ë“œë˜ê³¤', 'âš¡': 'ë²ˆê°œìˆ ì‚¬',
                'ğŸ’€': 'í•´ê³¨ë³‘', 'ğŸ‘¹': 'ì˜¤í¬', 'ğŸ”¥': 'í™”ì—¼ë§ˆë²•ì‚¬', 'ğŸ¦‡': 'ë°•ì¥',
                'ğŸ•·ï¸': 'ê±°ë¯¸', 'ğŸ': 'ë…ì‚¬', 'ğŸ¦‚': 'ì „ê°ˆ', 'ğŸ‘¾': 'ëª¬ìŠ¤í„°',
                'ğŸ‘º': 'ë„ê¹¨ë¹„', 'ğŸ”´': 'ë¶‰ì€ì „ì‚¬', 'ğŸ’¥': 'í­ë°œë§ˆë²•ì‚¬'
            };
            return names[emoji] || 'ì•Œ ìˆ˜ ì—†ëŠ” ìœ ë‹›';
        }
        
        // ì…€ í´ë¦­ ì²˜ë¦¬
        function handleCellClick(row, col) {
            const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
            const unit = gameBoard[row][col];
            
            // ê°€ëŠ¥í•œ ì´ë™/ê³µê²© ìœ„ì¹˜ í´ë¦­í•œ ê²½ìš°
            if (cell.classList.contains('possible-move')) {
                moveUnit(selectedUnit.row, selectedUnit.col, row, col);
                return;
            }
            
            if (cell.classList.contains('possible-attack')) {
                attackUnit(selectedUnit.row, selectedUnit.col, row, col);
                return;
            }
            
            // ìœ ë‹› ì„ íƒ
            if (unit && unit.team === currentTeam && !unit.moved) {
                selectUnit(row, col);
            } else {
                clearSelection();
            }
        }
        
        // ìœ ë‹› ì„ íƒ
        function selectUnit(row, col) {
            clearHighlights();
            selectedUnit = { row, col };
            
            const cell = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
            cell.classList.add('selected');
            
            showPossibleMoves(row, col);
            showUnitInfo(row, col);
        }
        
        // ê°€ëŠ¥í•œ ì´ë™ ìœ„ì¹˜ í‘œì‹œ
        function showPossibleMoves(row, col) {
            for (let r = Math.max(0, row - 2); r <= Math.min(9, row + 2); r++) {
                for (let c = Math.max(0, col - 2); c <= Math.min(14, col + 2); c++) {
                    if (r === row && c === col) continue;
                    
                    const distance = Math.abs(r - row) + Math.abs(c - col);
                    if (distance <= 3) {
                        const cell = document.querySelector(`[data-row="${r}"][data-col="${c}"]`);
                        const targetUnit = gameBoard[r][c];
                        
                        if (!targetUnit) {
                            cell.classList.add('possible-move');
                        } else if (targetUnit.team !== currentTeam) {
                            cell.classList.add('possible-attack');
                        }
                    }
                }
            }
        }
        
        // ìœ ë‹› ì´ë™
        function moveUnit(fromRow, fromCol, toRow, toCol) {
            const unit = gameBoard[fromRow][fromCol];
            const fromCell = document.querySelector(`[data-row="${fromRow}"][data-col="${fromCol}"]`);
            const toCell = document.querySelector(`[data-row="${toRow}"][data-col="${toCol}"]`);
            
            // ë³´ë“œ ìƒíƒœ ì—…ë°ì´íŠ¸
            gameBoard[toRow][toCol] = unit;
            gameBoard[fromRow][fromCol] = null;
            unit.moved = true;
            
            // ìœ ë‹› ë°ì´í„° ì´ë™
            unitsData[`${toRow}-${toCol}`] = unitsData[`${fromRow}-${fromCol}`];
            delete unitsData[`${fromRow}-${fromCol}`];
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            toCell.textContent = unit.emoji;
            toCell.className = `grid-cell ${unit.team}-team`;
            fromCell.textContent = '';
            fromCell.className = 'grid-cell';
            
            clearSelection();
            updateUnitInfo(`${unit.emoji} ${unitsData[`${toRow}-${toCol}`].name}ì´(ê°€) ì´ë™í–ˆìŠµë‹ˆë‹¤!`);
        }
        
        // ìœ ë‹› ê³µê²©
        function attackUnit(attackerRow, attackerCol, targetRow, targetCol) {
            const attacker = gameBoard[attackerRow][attackerCol];
            const target = gameBoard[targetRow][targetCol];
            const attackerData = unitsData[`${attackerRow}-${attackerCol}`];
            const targetData = unitsData[`${targetRow}-${targetCol}`];
            
            // ë°ë¯¸ì§€ ê³„ì‚°
            const damage = Math.max(5, attackerData.attack - targetData.defense + Math.random() * 10);
            targetData.hp -= Math.floor(damage);
            
            attacker.moved = true;
            
            if (targetData.hp <= 0) {
                // ìœ ë‹› ì œê±°
                const targetCell = document.querySelector(`[data-row="${targetRow}"][data-col="${targetCol}"]`);
                targetCell.textContent = '';
                targetCell.className = 'grid-cell';
                gameBoard[targetRow][targetCol] = null;
                delete unitsData[`${targetRow}-${targetCol}`];
                
                updateUnitInfo(`ğŸ’¥ ${attackerData.name}ì´(ê°€) ${getUnitName(target.emoji)}ì„(ë¥¼) ì²˜ì¹˜í–ˆìŠµë‹ˆë‹¤!`);
            } else {
                updateUnitInfo(`âš”ï¸ ${attackerData.name}ì´(ê°€) ${targetData.name}ì—ê²Œ ${Math.floor(damage)} ë°ë¯¸ì§€! (HP: ${targetData.hp})`);
            }
            
            clearSelection();
            updateDisplay();
            checkGameOver();
        }
        
        // ì„ íƒ í•´ì œ ë° í•˜ì´ë¼ì´íŠ¸ ì œê±°
        function clearSelection() {
            selectedUnit = null;
            clearHighlights();
        }
        
        function clearHighlights() {
            document.querySelectorAll('.grid-cell').forEach(cell => {
                cell.classList.remove('selected', 'possible-move', 'possible-attack');
            });
        }
        
        // ìœ ë‹› ì •ë³´ í‘œì‹œ
        function showUnitInfo(row, col) {
            const unit = gameBoard[row][col];
            const unitData = unitsData[`${row}-${col}`];
            updateUnitInfo(`${unit.emoji} ${unitData.name} | HP: ${unitData.hp} | ê³µê²©: ${unitData.attack} | ë°©ì–´: ${unitData.defense}`);
        }
        
        function updateUnitInfo(text) {
            document.getElementById('unitInfo').textContent = text;
        }
        
        // í„´ ì¢…ë£Œ
        function endTurn() {
            // ëª¨ë“  ìœ ë‹›ì˜ ì´ë™ ìƒíƒœ ì´ˆê¸°í™”
            for (let row = 0; row < 10; row++) {
                for (let col = 0; col < 15; col++) {
                    if (gameBoard[row][col] && gameBoard[row][col].team === currentTeam) {
                        gameBoard[row][col].moved = false;
                    }
                }
            }
            
            currentTeam = currentTeam === 'blue' ? 'red' : 'blue';
            clearSelection();
            updateDisplay();
            updateUnitInfo(`${currentTeam === 'blue' ? 'ğŸ”µ íŒŒë€íŒ€' : 'ğŸ”´ ë¹¨ê°„íŒ€'}ì˜ í„´ì…ë‹ˆë‹¤!`);
        }
        
        // í™”ë©´ ì—…ë°ì´íŠ¸
        function updateDisplay() {
            const blueCount = Object.keys(unitsData).filter(key => {
                const [row, col] = key.split('-');
                return gameBoard[row][col] && gameBoard[row][col].team === 'blue';
            }).length;
            
            const redCount = Object.keys(unitsData).filter(key => {
                const [row, col] = key.split('-');
                return gameBoard[row][col] && gameBoard[row][col].team === 'red';
            }).length;
            
            document.getElementById('blueCount').textContent = blueCount;
            document.getElementById('redCount').textContent = redCount;
            document.getElementById('currentTurn').textContent = currentTeam === 'blue' ? 'ğŸ”µ íŒŒë€íŒ€ í„´' : 'ğŸ”´ ë¹¨ê°„íŒ€ í„´';
        }
        
        // ê²Œì„ ì¢…ë£Œ í™•ì¸
        function checkGameOver() {
            const blueCount = Object.keys(unitsData).filter(key => {
                const [row, col] = key.split('-');
                return gameBoard[row][col] && gameBoard[row][col].team === 'blue';
            }).length;
            
            const redCount = Object.keys(unitsData).filter(key => {
                const [row, col] = key.split('-');
                return gameBoard[row][col] && gameBoard[row][col].team === 'red';
            }).length;
            
            if (blueCount === 0) {
                showGameOver('ğŸ”´ ë¹¨ê°„íŒ€ ìŠ¹ë¦¬!');
            } else if (redCount === 0) {
                showGameOver('ğŸ”µ íŒŒë€íŒ€ ìŠ¹ë¦¬!');
            }
        }
        
        function showGameOver(message) {
            const gameOverDiv = document.createElement('div');
            gameOverDiv.className = 'game-over';
            gameOverDiv.innerHTML = `
                <h2>${message}</h2>
                <button onclick="resetGame(); this.parentElement.remove();" style="margin-top: 15px; padding: 10px 20px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">ìƒˆ ê²Œì„</button>
            `;
            document.body.appendChild(gameOverDiv);
        }
        
        // ê²Œì„ ë¦¬ì…‹
        function resetGame() {
            const gameOverElement = document.querySelector('.game-over');
            if (gameOverElement) {
                gameOverElement.remove();
            }
            initGame();
            updateUnitInfo('ğŸ’¡ ìœ ë‹›ì„ í´ë¦­í•´ì„œ ì„ íƒí•˜ê³ , ì´ˆë¡ìƒ‰ ì˜ì—­ìœ¼ë¡œ ì´ë™í•˜ê±°ë‚˜ ë¹¨ê°„ìƒ‰ ì˜ì—­ì˜ ì ì„ ê³µê²©í•˜ì„¸ìš”!');
        }
        
        // ê²Œì„ ì‹œì‘
        initGame();
    </script>
</body>
</html>